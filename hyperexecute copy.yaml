---
globalTimeout: 90
testSuiteTimeout: 90
testSuiteStep: 90
runson: win
autosplit: true
retryOnFailure: true
maxRetries: 2
concurrency: 2
# testDiscoverer: G:\snooper\snooper.exe --featureFilePaths=src/main/**/Features/ --frameWork=java
# testDiscoverer: G:\snooper\snooper.exe --featureFilePaths=src/main/**/Features/ --frameWork=java --specificTags=@data1 @data2 @data3 @data4 @data5
# testRunnerCommand: mvn test -Dcucumber.options="$test" -Dscenario="$test"
# testRunnerCommand: mvn test -Dcucumber.options="$test" -Dscenario="$test" -Dmaven.repo.local=m2_cache_dir
testRunnerCommand: mvn test `-Dcucumber.options="$test" `-Dscenario="$test" `-Dmaven.repo.local=m2_cache_dir
# dataJsonPath: ['src/data.json']
# limitConcurrency: true
# pre:
#   - cat data.json
#   - cat context.json
# testDiscoverer: cat raw.txt
# testDiscoverer: snooper --featureFilePaths=src/main/**/Features/ --frameWork=java | sed -n 1,'2p'
# macTestRunnerCommand: mvn test -Dcucumber.options="$test" -Dscenario="$test" -DOs="MacOS Catalina"
# testRunnerCommand: mvn test -Dcucumber.options="$test" -Dscenario="$test"
dataJsonPath: ['src/datame.json', 'src/data1.json','me/data.json', 'data.json']
# limitConcurrency: true
# strict: true
# debug: true
pre:
  # - cat /etc/hosts
  # - sudo apt-get install iputils-ping
  # - ping -c 2 stage-hub.lambdatest.com
  # - cat /home/ltuser/lrc/lambda-node-remote-client/certificate.key
  # - cat /home/ltuser/lrc/lambda-node-remote-client/certificate.crt
  # - printenv


  # - npm i -g gnomon
  - java -version
  # - curl -o local.html http://127.0.0.1:8000/
  # - cat local.html
  # - python --version
  # - node --version
  - pwd
  # - cat /home/ltuser/.m2/settings.xml
  - echo ${PAT}
  - echo %PAT%
  - echo %PAT2%
  - mvn -Dmaven.repo.local=m2_cache_dir -Dmaven.test.skip=true install
  # - cat longlogs.txt
  # - npm install
  # - npm install karma-webdriver-launcher
  # - npm install karma-mocha-reporter
  # - npm install karma-jasmine
  # - npm install selenium-webdriver
  # - npm install selenium-standalone
  # - npm install fileupload
  # - npm install mongodb
  # - npm install lodash
  # - npm install chalk
  # - npm install react
  # - yarn add @mui/material @emotion/react @emotion/styled @types/cheerio @types/enzyme -W
  # - yarn add @mui/base -W
  # - yarn add @mui/system @emotion/react @emotion/styled -W

env:
#  PAT: ${{ .secrets.HYP2 }}
   PAT2: ${{ .secrets.key }}
#   - cat data_context.json
#   - cat me/data.json
#   - cat me/data_context.json
#   - cat src/data1.json
#   - cat src/data1_context.json
#   - cat src/datame.json
#   - cat src/datame_context.json
# #   - cat .hypertest.yaml
uploadArtefacts:
 - name: src
   path:
     - Files/**
 - name: files
   path:
     - src/**
mergeArtifacts: true
stripParentDirectory: true
taskIdentifierInNonConflictingArtefacts: true
generateArtifactAfterEveryStage: true
post:
  # - curl -o local2.html http://127.0.0.1:8000/
  # - cat local2.html
#   # - echo ${testdi}
#   # - echo ${post}
  - cat longlogs.txt
  - cat hyperexecute.yaml
env:
  mayur1: patil
  mayur: QA
  # PAT: ${{ .secrets.key }}
jobLabel: [ '${DATE} - ${DAY}', 'VR Job']
# jobLabel: ${date} - ${day}
version: "0.1"
# matrix:
#   os: ["win","mac","linux"]
# runson: ${matrix.os}
# parallelism:  2
# winParallelism:  2
# macParallelism:  2
# linuxParallelism:  2

testDiscovery:
  type: raw
  mode: dynamic
  # command: cat example.txt
  command:  snooper --featureFilePaths=src/main/**/ --frameWork=java --specificTags=@data1 | sed -n 1,'4p' #@data2 @data3 @data4 @data5
  # autosubset: true
  # command: cat raw.txt | sed -n 1,'30p'
  # command: snooper --featureFilePaths=src/main/**/src/main/java/FeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeatures/FeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeaturesFeatures/ --frameWork=java | sed -n 1,'5p'
  # winCommand: snooper --featureFilePaths=src/main/**/Features/ --frameWork=java | sed -n 1,'10p'
  # macCommand: snooper --featureFilePaths=src/main/**/Features/ --frameWork=java | sed -n 1,'10p'
# tunnel: true
# # tunnelNames: ["mayur1","patil"]
# tunnelOpts:
#   global: true
cacheKey: '{{ checksum "pom.xml" }}'
cacheDirectories:
  - m2_cache_dir

#
# runtime:
#    language: java
#    version: "17"
   # language: python
   # version: "3.8"
   # language: node
   # version: "16"
